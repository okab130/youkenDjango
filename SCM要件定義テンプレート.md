# DjangoベースSCMシステム 要件定義テンプレート

## 1. プロジェクト基本情報

### 1.1 プロジェクト概要
- **システム名称**: [例: MonoSCM - 統合サプライチェーン管理システム]
- **目的**: [例: 調達・在庫・販売を一元管理し、業務効率化を実現]
- **対象業種**: [例: 製造業 / 卸売業 / 小売業 / 複合]
- **想定ユーザー数**: [例: 50名 / 500名 / 5000名以上]
- **開発フェーズ**: [プロトタイプ / MVP / 本番環境]

### 1.2 SCMの範囲定義（該当するものに✓）
- [ ] **調達管理** (Procurement)
  - [ ] サプライヤー管理
  - [ ] 見積依頼・比較
  - [ ] 発注管理
  - [ ] 納期管理
  
- [ ] **在庫管理** (Inventory Management)
  - [ ] 入出庫管理
  - [ ] 在庫数リアルタイム管理
  - [ ] ロケーション管理（倉庫・棚番）
  - [ ] ロット管理・シリアル番号管理
  - [ ] 棚卸機能
  - [ ] 安全在庫・発注点管理
  
- [ ] **販売管理** (Sales Management)
  - [ ] 見積作成
  - [ ] 受注管理
  - [ ] 出荷管理
  - [ ] 請求書発行
  - [ ] 売掛金管理
  
- [ ] **物流管理** (Logistics)
  - [ ] 配送計画
  - [ ] 輸送管理
  - [ ] トラッキング機能
  
- [ ] **生産管理** (Production Planning)
  - [ ] 生産計画
  - [ ] 製造指示
  - [ ] 工程管理
  - [ ] 部品表（BOM）管理
  
- [ ] **需要予測** (Demand Forecasting)
  - [ ] 販売予測
  - [ ] 需要分析
  - [ ] 発注提案

---

## 2. ビジネス要件

### 2.1 解決したい課題（優先度: 高/中/低）
| 課題 | 現状 | 理想 | 優先度 |
|------|------|------|--------|
| [例: 在庫の可視化] | [Excelで管理、リアルタイム性なし] | [システムで一元管理、常に最新] | 高 |
| | | | |
| | | | |

### 2.2 主要ユーザーロール
| ロール名 | 主な業務 | 権限レベル | 人数 |
|----------|----------|------------|------|
| [例: 購買担当] | [発注・納期管理] | [発注承認権限] | [5名] |
| [例: 倉庫管理者] | [入出庫・棚卸] | [在庫操作権限] | [3名] |
| [例: 営業担当] | [受注・見積作成] | [販売情報閲覧] | [10名] |
| | | | |

### 2.3 業務フロー（代表的なもの）
```
【例: 調達業務フロー】
1. 発注点到達 → システムアラート
2. 購買担当が複数サプライヤーに見積依頼
3. 見積比較・発注先決定
4. 発注書発行
5. 納品確認・検収
6. 入庫処理
7. 請求書照合・支払処理
```

**記載してください:**
- [ ] 調達業務フロー
- [ ] 在庫管理業務フロー
- [ ] 販売業務フロー
- [ ] その他重要フロー

---

## 3. 機能要件

### 3.1 必須機能（MVP）
| 機能カテゴリ | 機能名 | 詳細 | 優先度 |
|--------------|--------|------|--------|
| マスタ管理 | 商品マスタ | 商品コード、名称、単価、カテゴリ | 必須 |
| | サプライヤーマスタ | 仕入先情報、取引条件 | 必須 |
| | 顧客マスタ | 得意先情報、与信限度額 | 必須 |
| 在庫管理 | 入庫処理 | 発注書連動、ロット管理 | 必須 |
| | 出庫処理 | 受注連動、引当処理 | 必須 |
| | 在庫照会 | リアルタイム在庫数、ロケーション別 | 必須 |
| 発注管理 | 発注書作成 | サプライヤー選択、商品選択 | 必須 |
| | 発注書PDF出力 | メール送信機能 | 高 |
| 受注管理 | 受注入力 | 在庫引当、納期回答 | 必須 |
| | 出荷指示 | ピッキングリスト出力 | 必須 |

**追加機能を記載:**
| | | | |
| | | | |

### 3.2 将来対応機能（Phase 2以降）
- [ ] EDI連携（電子データ交換）
- [ ] バーコード/QRコード対応
- [ ] モバイルアプリ（倉庫作業用）
- [ ] AI需要予測
- [ ] 多通貨対応
- [ ] 多言語対応
- [ ] API連携（会計システム等）

---

## 4. 非機能要件

### 4.1 性能要件
- **同時アクセス数**: [例: 最大100ユーザー]
- **レスポンスタイム**: [例: 画面表示3秒以内、検索5秒以内]
- **データ保持期間**: [例: 5年間のトランザクションデータ保持]
- **データ量見積**: 
  - 商品マスタ: [例: 10,000件]
  - 月間取引数: [例: 5,000件]

### 4.2 セキュリティ要件
- [ ] ユーザー認証（Django標準認証 / LDAP / SSO）
- [ ] ロールベースアクセス制御（RBAC）
- [ ] 操作ログ記録（誰が・いつ・何を）
- [ ] データバックアップ（日次 / 週次）
- [ ] SSL/TLS通信
- [ ] パスワードポリシー（複雑度、有効期限）

### 4.3 可用性要件
- **稼働時間**: [例: 24時間365日 / 平日9:00-18:00]
- **目標稼働率**: [例: 99.9%]
- **保守時間**: [例: 月1回、日曜深夜2時間]

### 4.4 バックアップ・リカバリ
- **RPO (Recovery Point Objective)**: [例: 24時間以内のデータ]
- **RTO (Recovery Time Objective)**: [例: 4時間以内に復旧]

---

## 5. データモデル要件

### 5.1 主要エンティティ（想定）
以下のエンティティについて、必要な属性を検討してください。

#### 商品（Product）
- [ ] 商品コード（SKU）
- [ ] 商品名
- [ ] カテゴリ
- [ ] 単価
- [ ] 単位（個/箱/kg等）
- [ ] 安全在庫数
- [ ] 発注点
- [ ] リードタイム
- [ ] JANコード
- [ ] その他: ___________

#### 在庫（Inventory）
- [ ] 商品
- [ ] 倉庫/ロケーション
- [ ] 現在庫数
- [ ] 引当済数
- [ ] 有効在庫数
- [ ] ロット番号
- [ ] 入庫日
- [ ] 有効期限
- [ ] その他: ___________

#### サプライヤー（Supplier）
- [ ] サプライヤーコード
- [ ] 会社名
- [ ] 担当者
- [ ] 連絡先（電話/メール）
- [ ] 住所
- [ ] 支払条件（末締翌月末払等）
- [ ] リードタイム
- [ ] その他: ___________

#### 発注（PurchaseOrder）
- [ ] 発注番号
- [ ] 発注日
- [ ] サプライヤー
- [ ] 納期
- [ ] ステータス（発注済/入荷済/検収済）
- [ ] 合計金額
- [ ] 発注者
- [ ] その他: ___________

#### 発注明細（PurchaseOrderItem）
- [ ] 発注番号
- [ ] 商品
- [ ] 数量
- [ ] 単価
- [ ] 金額
- [ ] 納期
- [ ] その他: ___________

#### 受注（SalesOrder）
- [ ] 受注番号
- [ ] 受注日
- [ ] 顧客
- [ ] 納期
- [ ] ステータス（受注/出荷済/請求済）
- [ ] 合計金額
- [ ] 受注者
- [ ] その他: ___________

#### 受注明細（SalesOrderItem）
- [ ] 受注番号
- [ ] 商品
- [ ] 数量
- [ ] 単価
- [ ] 金額
- [ ] 引当状態
- [ ] その他: ___________

#### 入出庫履歴（InventoryTransaction）
- [ ] 取引日時
- [ ] 取引種別（入庫/出庫/調整/棚卸）
- [ ] 商品
- [ ] 数量
- [ ] ロット番号
- [ ] 関連伝票（発注番号/受注番号）
- [ ] 倉庫/ロケーション
- [ ] 担当者
- [ ] その他: ___________

### 5.2 追加エンティティ
必要に応じて追加してください:
- [ ] 倉庫マスタ（複数拠点の場合）
- [ ] ロケーションマスタ（棚番管理）
- [ ] カテゴリマスタ
- [ ] 顧客マスタ
- [ ] 請求書
- [ ] 支払記録
- [ ] 配送情報
- [ ] その他: ___________

---

## 6. 画面要件

### 6.1 必須画面リスト
| 画面カテゴリ | 画面名 | 主要機能 | アクセス権限 |
|--------------|--------|----------|--------------|
| ダッシュボード | トップページ | KPI表示、アラート一覧 | 全ユーザー |
| | 在庫状況サマリ | 在庫推移グラフ、低在庫アラート | 管理者・倉庫 |
| マスタ管理 | 商品一覧・登録・編集 | CRUD操作、CSV一括登録 | 管理者 |
| | サプライヤー一覧・登録・編集 | CRUD操作 | 管理者・購買 |
| | 顧客一覧・登録・編集 | CRUD操作 | 管理者・営業 |
| 発注管理 | 発注一覧 | 検索・絞込、ステータス表示 | 購買担当 |
| | 発注書作成 | 商品選択、数量入力、PDF出力 | 購買担当 |
| | 発注書詳細 | 履歴確認、編集、キャンセル | 購買担当 |
| 入庫管理 | 入庫処理 | 発注書選択、実績数入力、ロット登録 | 倉庫担当 |
| | 入庫履歴 | 検索・確認 | 倉庫担当 |
| 在庫管理 | 在庫一覧 | 商品別・ロケーション別在庫 | 全ユーザー |
| | 在庫移動 | ロケーション間移動 | 倉庫担当 |
| | 棚卸処理 | 実地棚卸、差異調整 | 倉庫管理者 |
| 受注管理 | 受注一覧 | 検索・絞込、ステータス表示 | 営業担当 |
| | 受注入力 | 顧客選択、商品選択、在庫引当 | 営業担当 |
| | 受注詳細 | 履歴確認、編集、キャンセル | 営業担当 |
| 出荷管理 | 出荷指示一覧 | 未出荷一覧 | 倉庫担当 |
| | ピッキングリスト出力 | PDF出力、バーコード表示 | 倉庫担当 |
| | 出荷実績入力 | 出荷数確定、トラッキング番号登録 | 倉庫担当 |
| レポート | 在庫レポート | 在庫推移、回転率、滞留在庫 | 管理者 |
| | 仕入レポート | サプライヤー別仕入実績 | 管理者・購買 |
| | 売上レポート | 商品別・顧客別売上 | 管理者・営業 |

**追加画面:**
| | | | |
| | | | |

### 6.2 画面の優先度
- **Phase 1 (MVP)**: [例: 商品マスタ、在庫一覧、発注・受注の基本CRUD]
- **Phase 2**: [例: レポート機能、高度な検索]
- **Phase 3**: [例: ダッシュボード、分析機能]

---

## 7. UI/UX要件

### 7.1 デザイン方針
- [ ] レスポンシブデザイン（PC/タブレット/スマホ対応）
- [ ] シンプル・直感的な操作性
- [ ] カラースキーム: [例: 企業カラーに準拠 / ブルー系・清潔感]
- [ ] アクセシビリティ対応（WCAG 2.1 AA準拠）

### 7.2 UI要素の方針
- **ナビゲーション**: [サイドバー / トップバー / 両方]
- **テーブル表示**: [ページネーション / 無限スクロール]
- **フォーム**: [インラインバリデーション / サブミット時バリデーション]
- **通知**: [トースト通知 / モーダル / アラートバナー]

### 7.3 操作性要件
- [ ] キーボードショートカット対応（Excel操作に慣れたユーザー向け）
- [ ] CSV一括インポート/エクスポート
- [ ] PDF帳票出力
- [ ] Excel帳票出力
- [ ] 検索・フィルタ機能の充実

---

## 8. 外部連携要件

### 8.1 連携システム
| 連携先システム | 連携方法 | 連携データ | 頻度 |
|----------------|----------|------------|------|
| [例: 会計システム] | [API / CSV] | [仕入・売上データ] | [日次] |
| [例: ECサイト] | [API] | [受注データ] | [リアルタイム] |
| | | | |

### 8.2 外部サービス
- [ ] メール送信（発注書・請求書送付）
- [ ] SMS通知（納期アラート等）
- [ ] 配送業者API連携（ヤマト・佐川等）
- [ ] 決済サービス連携
- [ ] その他: ___________

---

## 9. 技術要件

### 9.1 Django技術スタック
- **Djangoバージョン**: [例: Django 4.2 LTS]
- **Python バージョン**: [例: Python 3.11]
- **データベース**: [PostgreSQL / MySQL / SQLite（開発のみ）]
- **キャッシュ**: [Redis / Memcached / 不要]
- **タスクキュー**: [Celery + Redis / 不要]
- **ストレージ**: [ローカル / AWS S3 / GCP Cloud Storage]

### 9.2 フロントエンド
- **テンプレートエンジン**: Django Templates / Jinja2
- **CSSフレームワーク**: [Bootstrap 5 / Tailwind CSS / Material Design]
- **JavaScript**: [Vanilla JS / Alpine.js / Vue.js / React（DRF使用時）]
- **チャート**: [Chart.js / Plotly / D3.js]

### 9.3 認証・認可
- **認証方式**: [Django標準認証 / django-allauth / LDAP / SSO]
- **権限管理**: [Django標準Permissions / django-guardian（オブジェクトレベル）]

### 9.4 開発・運用ツール
- **バージョン管理**: Git
- **CI/CD**: [GitHub Actions / GitLab CI / Jenkins]
- **デプロイ先**: [AWS / GCP / Azure / オンプレミス / VPS]
- **Webサーバー**: [Nginx + Gunicorn / Apache + mod_wsgi]
- **監視**: [Sentry / Datadog / CloudWatch]

---

## 10. 制約・前提条件

### 10.1 プロジェクト制約
- **予算**: [例: 開発費○○万円、運用費月○○円]
- **納期**: [例: 6ヶ月でMVPリリース]
- **開発体制**: [例: 開発者2名、デザイナー1名]
- **既存システム**: [例: 現行はExcel管理、移行データあり]

### 10.2 技術的制約
- [ ] オンプレミス環境必須（クラウド不可）
- [ ] 既存インフラ活用（サーバー指定あり）
- [ ] 特定ブラウザ対応必須（IE11等）
- [ ] オフライン動作が必要
- [ ] その他: ___________

### 10.3 業務的制約
- [ ] 既存業務フローを大きく変更できない
- [ ] 段階的移行が必要（並行稼働期間あり）
- [ ] 特定時期は変更不可（繁忙期等）
- [ ] その他: ___________

---

## 11. リスクと対応策

| リスク | 影響度 | 発生確率 | 対応策 |
|--------|--------|----------|--------|
| [例: 要件の追加変更] | 高 | 高 | アジャイル開発、スコープ管理 |
| [例: データ移行の失敗] | 高 | 中 | 事前テスト、ロールバック計画 |
| [例: パフォーマンス不足] | 中 | 中 | 早期負荷テスト、インデックス最適化 |
| | | | |

---

## 12. 成功基準（KPI）

### 12.1 定量的指標
- [ ] 在庫確認時間: [現状○分 → 目標○秒]
- [ ] 発注処理時間: [現状○分 → 目標○分]
- [ ] 在庫精度: [現状○% → 目標99%以上]
- [ ] システム稼働率: [目標99.9%]
- [ ] ユーザー満足度: [アンケート4.0/5.0以上]

### 12.2 定性的指標
- [ ] 業務の属人化解消
- [ ] リアルタイムな状況把握が可能
- [ ] ペーパーレス化実現
- [ ] その他: ___________

---

## 13. 移行計画

### 13.1 データ移行
- **移行対象データ**: [例: 商品マスタ5,000件、過去1年の取引履歴]
- **移行方法**: [CSV一括 / API連携 / 手動入力]
- **移行タイミング**: [例: 本番稼働前週末]
- **検証方法**: [例: 件数チェック、サンプルデータ照合]

### 13.2 並行稼働計画
- **並行期間**: [例: 1ヶ月間、新旧システム同時運用]
- **切り替え基準**: [例: 1週間エラーゼロで完全移行]

### 13.3 教育訓練
- **トレーニング計画**: [例: ロール別3時間のハンズオン研修]
- **マニュアル**: [画面別操作マニュアル、FAQ]

---

## 14. 次のステップ

このテンプレートを埋めた後、以下の順序で設計を進めます:

### Step 1: 要件確認・曖昧性解消
- 記載内容の矛盾チェック
- 不明瞭な要件の明確化
- 優先順位の確定

### Step 2: データモデル設計（models.py）
- ER図作成
- Djangoモデル定義
- リレーションシップ確定

### Step 3: 機能設計
- URLルーティング設計
- ビュー設計（CBV）
- 画面遷移図

### Step 4: UI設計書作成
- ワイヤーフレーム
- 画面レイアウト詳細
- コンポーネント設計

### Step 5: 技術仕様書
- アーキテクチャ設計
- セキュリティ設計
- パフォーマンス設計

---

## 記入ガイド

### 🔴 必須項目（絶対に明確化すべき）
- プロジェクト概要
- SCMの範囲（どこまでカバーするか）
- 主要ユーザーロール
- 必須機能（MVP）
- 主要エンティティ
- 必須画面リスト

### 🟡 重要項目（早期に決定すべき）
- 非機能要件（性能・セキュリティ）
- 技術スタック
- 外部連携要件
- 制約・前提条件

### 🟢 推奨項目（設計品質向上）
- 業務フロー
- UI/UX要件
- リスクと対応策
- 成功基準

---

## テンプレート使用方法

1. **このファイルをコピー**して、プロジェクト固有の要件を記入
2. **不明な項目は「TODO」**と記載し、後で確認
3. **該当しない項目は「N/A」**と記載
4. 記入後、**AIに要件確認を依頼**:
   - 「このSCM要件定義を確認し、曖昧な点・矛盾を指摘してください」
   - 「この要件に基づいてDjangoモデル設計を開始してください」

---

**作成日**: 2025-12-08
**バージョン**: 1.0
**作成者**: [記入してください]
